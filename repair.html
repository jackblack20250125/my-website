<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>å¿«é€Ÿå ±ä¿®ç³»çµ±</title>
    <style>
        body { font-family: "å¾®è»Ÿæ­£é»‘é«”", sans-serif; background-color: #f0f2f5; display: flex; justify-content: center; padding-top: 50px; }
        .form-container { background: white; padding: 30px; border-radius: 15px; box-shadow: 0 5px 15px rgba(0,0,0,0.1); width: 100%; max-width: 400px; }
        h2 { text-align: center; color: #333; }
        input, textarea, button { width: 100%; padding: 12px; margin-bottom: 15px; border: 1px solid #ddd; border-radius: 8px; box-sizing: border-box; }
        button { background-color: #4facfe; color: white; border: none; font-weight: bold; cursor: pointer; transition: 0.3s; }
        button:hover { background-color: #00f2fe; }
        .loading { opacity: 0.6; pointer-events: none; } /* é€å‡ºæ™‚è®Šç° */
    </style>
</head>
<body>

<div class="form-container">
    <h2>ğŸ› ï¸ å¿«é€Ÿå ±ä¿®å–®</h2>
    <form id="repairForm">
        <label>å ±ä¿®äººå§“å</label>
        <input type="text" name="name" required placeholder="è«‹è¼¸å…¥å§“å">
        
        <label>åœ°é» / ç­ç´š</label>
        <input type="text" name="location" required placeholder="ä¾‹å¦‚ï¼š301æ•™å®¤">
        
        <label>å•é¡Œæè¿°</label>
        <textarea name="issue" rows="4" required placeholder="ä¾‹å¦‚ï¼šæŠ•å½±æ©Ÿç„¡æ³•é¡¯ç¤º"></textarea>
        
        <button type="submit" id="submitBtn">é€å‡ºå ±ä¿®</button>
    </form>
</div>

<script>
    // é€™è£¡å°±æ˜¯é‚£å€‹ã€Œè·‘è…¿å°å¼Ÿã€ (JavaScript)
    const form = document.getElementById('repairForm');
    const submitBtn = document.getElementById('submitBtn');

    // â˜…â˜…â˜… è«‹å°‡ä¸‹æ–¹çš„ç¶²å€æ›æˆä½ å‰›æ‰éƒ¨ç½²æ‹¿åˆ°çš„ GAS ç¶²å€ â˜…â˜…â˜…
    const scriptURL = 'https://script.google.com/macros/s/AKfycbwXPFS1Z3REhdjENR2dV8jE0E3CdO3lg5Y2KQsiT7Tmvwm9ltC_XMFpAoJYkh6425HR/exec'; 

    form.addEventListener('submit', e => {
        e.preventDefault(); // é˜»æ­¢è¡¨å–®åŸæœ¬çš„è·³é è¡Œç‚º
        
        // æŒ‰éˆ•è®Šæ›´ç‹€æ…‹
        submitBtn.textContent = 'å‚³é€ä¸­...';
        submitBtn.classList.add('loading');

        // æ‰“åŒ…è³‡æ–™
        let formData = new FormData(form);

        // ä½¿ç”¨ fetch API å‚³é€ (AJAX æŠ€è¡“)
        fetch(scriptURL, { method: 'POST', body: formData})
            .then(response => {
                alert('å ±ä¿®æˆåŠŸï¼æˆ‘å€‘å·²æ”¶åˆ°æ‚¨çš„é€šçŸ¥ã€‚');
                form.reset(); // æ¸…ç©ºè¡¨å–®
                submitBtn.textContent = 'é€å‡ºå ±ä¿®';
                submitBtn.classList.remove('loading');
            })
            .catch(error => {
                alert('ç³Ÿç³•ï¼å‚³é€å¤±æ•—ï¼Œè«‹ç¨å¾Œå†è©¦ã€‚');
                console.error('Error!', error.message);
                submitBtn.textContent = 'é€å‡ºå ±ä¿®';
                submitBtn.classList.remove('loading');
            });
    });
</script>

</body>
</html>
